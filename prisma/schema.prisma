// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
 referentialIntegrity = "prisma" 

}


model User {
id Int  @id @default(autoincrement())
name String
email String @unique
password String
createdAt DateTime  @default(now())
updatedAt DateTime @updatedAt
avatarUrl String?  
tweets Tweet[]
answer Answer[]
favorite Favorite[]
}

model Tweet {
id Int  @id @default(autoincrement())
liked Boolean
content String @db.MediumText
createdAt  DateTime   @default(now())
updatedAt DateTime @updatedAt
user User  @relation(fields: [userId], references: [id], onDelete: Cascade)
userId Int   
answer Answer[]
favorite Favorite[]
}

model Answer {
id Int  @id @default(autoincrement())
createdAt  DateTime   @default(now())
updatedAt DateTime @updatedAt
liked Boolean
answer String @db.MediumText
user User  @relation(fields: [userId], references: [id], onDelete: Cascade)
userId Int   
tweet Tweet @relation(fields: [tweetid], references: [id], onDelete: Cascade)
tweetid Int 
}

model Favorite {
  id Int  @id @default(autoincrement())
createdAt  DateTime   @default(now())
updatedAt DateTime @updatedAt
user User  @relation(fields: [userId], references: [id], onDelete: Cascade)
userId Int   
tweet Tweet @relation(fields: [tweetid], references: [id], onDelete: Cascade)
tweetid Int 
}